(()=>{"use strict";const e=function(e){if(!e)throw new TypeError("Name must not be blank")},t={items:[],hideCheckeditems:!1,findById:function(e){return this.items.find((t=>t.id===e))},addItem:function(t){try{e(t),this.items.push(function(e){return{id:cuid(),name:e,checked:!1}}(t))}catch(e){console.log(e.message)}},findAndToggleChecked:function(e){const t=this.findById(e);t.checked=!t.checked},findAndUpdateName:function(t,n){try{e(n),this.findById(t).name=n}catch(e){console.log("Cannot update name: "+e.message)}},findAndDelete:function(e){this.items=this.items.filter((t=>t.id!==e))},toggleCheckedFilter:function(){this.hideCheckedItems=!this.hideCheckedItems}},n=function(){let e=[...t.items];t.hideCheckedItems&&(e=e.filter((e=>!e.checked)));const n=e.map((e=>function(e){let t=`<span class="shopping-item shopping-item__checked">${e.name}</span>`;return e.checked||(t=`\n      <form class="js-edit-item">\n        <input class="shopping-item" type="text" value="${e.name}" />\n      </form>\n    `),`\n    <li class="js-item-element" data-item-id="${e.id}">\n      ${t}\n      <div class="shopping-item-controls">\n        <button class="shopping-item-toggle js-item-toggle">\n          <span class="button-label">check</span>\n        </button>\n        <button class="shopping-item-delete js-item-delete">\n          <span class="button-label">delete</span>\n        </button>\n      </div>\n    </li>`}(e))).join("");$(".js-shopping-list").html(n)},i=function(e){return $(e).closest(".js-item-element").data("item-id")},s=n;$((function(){$("#js-shopping-list-form").submit((function(e){e.preventDefault();const i=$(".js-shopping-list-entry").val();$(".js-shopping-list-entry").val(""),t.addItem(i),n()})),$(".js-shopping-list").on("click",".js-item-toggle",(e=>{const s=i(e.currentTarget);t.findAndToggleChecked(s),n()})),$(".js-shopping-list").on("click",".js-item-delete",(e=>{const s=i(e.currentTarget);t.findAndDelete(s),n()})),$(".js-shopping-list").on("submit",".js-edit-item",(e=>{e.preventDefault();const s=i(e.currentTarget),c=$(e.currentTarget).find(".shopping-item").val();t.findAndUpdateName(s,c),n()})),$(".js-filter-checked").click((()=>{t.toggleCheckedFilter(),n()})),s()}))})();